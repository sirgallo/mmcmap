## Tests


## Tested On

`Macbook Pro 14 with M2Pro, 16 GB Mem, 500GB SSD`


## Concurrent Test

The concurrent test fills the `mmcmap` with randomly generated byte slices, where keys and values are the same and each byte slice is 32 randomly generated letters between a-z.
```
for each test, 3 total tests are taken for write/read/delete (for single reader, multi writer, no flushing)

100,000 key val pair
  - concurrent write: 1.63, 1.62, 1.48 ~ 1.58 sec = 63,291 w/s
  - concurrent read: 0.58, 0.60, 0.57 ~ 0.58 sec = 172,413 r/s
  - concurrent delete: 1.30, 1.28, 1.21 sec ~ 1.26 = 79,365 w/s
  - file size in bytes: 262144000

1,000,000 key val pair
  - concurrent write: 18.44, 18.64, 18.72 ~ 18.60 sec = 53,763 w/s
  - concurrent read: 6.51, 6.99, 7.03 ~ 6.84 sec = 146,199 r/s
  - concurrent delete: 15.38, 14.87, 14.68 ~ 14.98 sec = 66,755 w/s
  - file size in bytes: 2048576000

2,000,000 key val pair
  - concurrent write: 48.86, 43.29, 42.01 ~ 44.72 sec = 44,723 w/s
  - concurrent read: 13.89, 15.17, 14.9 2 ~ 14.66 sec = 136,426 r/s
  - concurrent delete: 42.35, 41.08, 41.60 ~ 41.68 sec = 47,985 w/s
  - file size in bytes: 3048576000

4,000,000 key val pair
  - concurrent write: 148.65, 144.19, 143.25 ~ 145.36 sec = 27,517 w/s
  - concurrent read: 30.33, 33.44, 33.53 ~ 32.43 = 123,343 r/s
  - concurrent delete: 188.25, 170.84, 165.68 ~ 174.92 sec = 22,868 w/s
  - file size in bytes: 7048576000


weights for each test are as follows:

total k/v pairs: 7,100,00
100,000: 0.014
1,000,000: 0.141
2,000,000: 0.282
4,000,000: 0.563


avg write = (0.014 * (63,291 + 79,365)) + (0.141 * (53,763 + 66,755)) + (0.282 * (44,723 + 47,985)) + (0.563 * (27,517 + 22,868))
avg read = (0.014 * 172,413) + (0.141 * 146,199) + (0.282 * 136,426) + (0.563 * 123,343)

avg write: 73,500 w/s
avg read: 130,942 r/s
```